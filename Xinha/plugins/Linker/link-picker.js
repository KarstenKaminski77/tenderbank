/* This compressed file is part of Xinha. For uncompressed sources, forum, and bug reports, go to xinha.org */
function LinkPicker(g,h){this.field=g;var e=this;this.tmpAnchor=document.createElement("a");h.dialog=LinkPicker.Dialog;h.canSetTarget=false;h.canRemoveLink=false;this.selectionEmpty=function(){return true};this.getSelection=function(){return null};this.selectNodeContents=function(){return true};this.getHTML=function(){return""};this.disableToolbar=function(){return true};this.enableToolbar=function(){return true};this._doc={execCommand:function(){return false},getElementsByTagName:function(){return[]}};this.config={Linker:h,btnList:{},registerButton:function(){return true},addToolbarElement:function(){}};var f=document.createElement("input");f.type="button";f.value="Browse";f.onclick=function(){e.editLink();return false};g.parentNode.insertBefore(f,g.nextSibling);this.updateToolbar=function(){e.field.value=this.fixRelativeLinks(e.tmpAnchor.href)};this.linker=new Linker(this);this.linker.onGenerateOnce()}LinkPicker.prototype.editLink=function(){this.tmpAnchor.href=this.field.value;this.linker._createLink(this.tmpAnchor)};LinkPicker.prototype.fixRelativeLinks=function(b){return b.replace(document.location.href.replace(/^(https?:\/\/[^\/]*)(.*)$/i,"$1"),"")};LinkPicker.Dialog=function(i,j,h,f,g){LinkPicker.Dialog.parentConstructor.call(this,j,h,f,g)};Xinha.extend(LinkPicker.Dialog,Xinha.DetachedDialog);LinkPicker.Config=function(){};LinkPicker.Config.prototype=Xinha.Config.prototype.Linker;