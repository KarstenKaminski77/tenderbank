/* This compressed file is part of Xinha. For uncompressed sources, forum, and bug reports, go to xinha.org */
Xinha.loadStyle("ListType.css","ListType");function ListType(t){this.editor=t;var p=t.config;var m=this;if(p.ListType.mode=="toolbar"){var n={};n[Xinha._lc("Decimal numbers","ListType")]="decimal";n[Xinha._lc("Lower roman numbers","ListType")]="lower-roman";n[Xinha._lc("Upper roman numbers","ListType")]="upper-roman";n[Xinha._lc("Lower latin letters","ListType")]="lower-alpha";n[Xinha._lc("Upper latin letters","ListType")]="upper-alpha";if(!Xinha.is_ie){n[Xinha._lc("Lower greek letters","ListType")]="lower-greek"}var r={id:"listtype",tooltip:Xinha._lc("Choose list style type (for ordered lists)","ListType"),options:n,action:function(a){m.onSelect(a,this)},refresh:function(a){m.updateValue(a,this)},context:"ol"};p.registerDropdown(r);p.addToolbarElement("listtype",["insertorderedlist","orderedlist"],1)}else{t._ListType=t.addPanel("right");Xinha.freeLater(t,"_ListType");Xinha.addClass(t._ListType,"ListType");Xinha.addClass(t._ListType.parentNode,"dialog");t.notifyOn("modechange",function(a,b){if(b.mode=="text"){t.hidePanel(t._ListType)}});var o=["disc","circle","square","none"];var q=["decimal","lower-alpha","upper-alpha","lower-roman","upper-roman","none"];var i=document.createElement("div");i.style.height="90px";var l=document.createElement("div");this.divUL=l;l.style.display="none";for(var s=0;s<o.length;s++){l.appendChild(this.createImage(o[s]))}i.appendChild(l);var l=document.createElement("div");this.divOL=l;l.style.display="none";for(var s=0;s<q.length;s++){l.appendChild(this.createImage(q[s]))}i.appendChild(l);t._ListType.appendChild(i);t.hidePanel(t._ListType)}}Xinha.Config.prototype.ListType={mode:"toolbar"};ListType._pluginInfo={name:"ListType",version:"2.1",developer:"Laurent Vilday",developer_url:"http://www.mokhet.com/",c_owner:"Xinha community",sponsor:"",sponsor_url:"",license:"HTMLArea"};ListType.prototype.onSelect=function(g,e){var f=g._toolbarObjects[e.id].element;var h=g.getParentElement();while(!/^ol$/i.test(h.tagName)){h=h.parentNode}h.style.listStyleType=f.value};ListType.prototype.updateValue=function(i,k){var h=i._toolbarObjects[k.id].element;var j=i.getParentElement();while(j&&!/^ol$/i.test(j.tagName)){j=j.parentNode}if(!j){h.selectedIndex=0;return}var l=j.style.listStyleType;if(!l){h.selectedIndex=0}else{for(var g=h.firstChild;g;g=g.nextSibling){g.selected=(l.indexOf(g.value)!=-1)}}};ListType.prototype.onUpdateToolbar=function(){if(this.editor.config.ListType.mode=="toolbar"){return}var b=this.editor.getParentElement();while(b&&!/^[o|u]l$/i.test(b.tagName)){b=b.parentNode}if(b&&/^[o|u]l$/i.test(b.tagName)){this.showPanel(b)}else{if(this.editor._ListType.style.display!="none"){this.editor.hidePanel(this.editor._ListType)}}};ListType.prototype.createImage=function(f){var g=this;var h=this.editor;var a=document.createElement("a");a.href="javascript:void(0)";Xinha._addClass(a,f);Xinha._addEvent(a,"click",function(){var b=h._ListType.currentListTypeParent;b.style.listStyleType=f;g.showActive(b);return false});return a};ListType.prototype.showActive=function(i){var f=(i.tagName.toLowerCase()=="ul")?this.divUL:this.divOL;this.divUL.style.display="none";this.divOL.style.display="none";f.style.display="block";var j=i.style.listStyleType;if(""==j){j=(i.tagName.toLowerCase()=="ul")?"disc":"decimal"}for(var g=0;g<f.childNodes.length;g++){var h=f.childNodes[g];if(Xinha._hasClass(h,j)){Xinha._addClass(h,"active")}else{Xinha._removeClass(h,"active")}}};ListType.prototype.showPanel=function(b){this.editor._ListType.currentListTypeParent=b;this.showActive(b);this.editor.showPanel(this.editor._ListType)};