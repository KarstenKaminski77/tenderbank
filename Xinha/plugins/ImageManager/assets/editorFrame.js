/* This compressed file is part of Xinha. For uncompressed sources, forum, and bug reports, go to xinha.org */
var topDoc=window.top.document;var t_cx=topDoc.getElementById("cx");var t_cy=topDoc.getElementById("cy");var t_cw=topDoc.getElementById("cw");var t_ch=topDoc.getElementById("ch");var m_sx=topDoc.getElementById("sx");var m_sy=topDoc.getElementById("sy");var m_w=topDoc.getElementById("mw");var m_h=topDoc.getElementById("mh");var m_a=topDoc.getElementById("ma");var m_d=topDoc.getElementById("md");var s_sw=topDoc.getElementById("sw");var s_sh=topDoc.getElementById("sh");var r_ra=topDoc.getElementById("ra");var pattern="img/2x2.gif";function doSubmit(p){if(p=="crop"){var r=_backend_url+"__function=editorFrame&img="+currentImageFile+"&action=crop&params="+parseInt(t_cx.value)+","+parseInt(t_cy.value)+","+parseInt(t_cw.value)+","+parseInt(t_ch.value);location.href=r}else{if(p=="scale"){var r=_backend_url+"__function=editorFrame&img="+currentImageFile+"&action=scale&params="+parseInt(s_sw.value)+","+parseInt(s_sh.value);location.href=r}else{if(p=="rotate"){var m=topDoc.getElementById("flip");if(m.value=="hoz"||m.value=="ver"){location.href=_backend_url+"__function=editorFrame&img="+currentImageFile+"&action=flip&params="+m.value}else{if(isNaN(parseFloat(r_ra.value))==false){location.href=_backend_url+"__function=editorFrame&img="+currentImageFile+"&action=rotate&params="+parseFloat(r_ra.value)}}}else{if(p=="save"){var n=topDoc.getElementById("save_filename");var q=topDoc.getElementById("save_format");var o=topDoc.getElementById("quality");var j=q.value.split(",");if(n.value.length<=0){alert(i18n("Please enter a filename to save."))}else{var l=encodeURI(n.value);var k=parseInt(o.value);var r=_backend_url+"__function=editorFrame&img="+currentImageFile+"&action=save&params="+j[0]+","+k+"&file="+l;location.href=r}}}}}}function addEvent(g,f,e){if(g.addEventListener){g.addEventListener(f,e,true);return true}else{if(g.attachEvent){var h=g.attachEvent("on"+f,e);return h}else{return false}}}var jg_doc;init=function(){jg_doc=new jsGraphics("imgCanvas");jg_doc.setColor("#000000");initEditor()};addEvent(window,"load",init);