/* This compressed file is part of Xinha. For uncompressed sources, forum, and bug reports, go to xinha.org */
function i18n(b){return Xinha._lc(b,"ImageManager")}function changeDir(b){showMessage("Loading");location.href=_backend_url+"__function=images&dir="+encodeURIComponent(b)}function newFolder(d,c){location.href=_backend_url+"__function=images&dir="+encodeURIComponent(d)+"&newDir="+encodeURIComponent(c)}function updateDir(g){var f=window.top.document.getElementById("dirPath");if(f){for(var h=0;h<f.length;h++){var e=f.options[h].text;if(e==g){f.selectedIndex=h;showMessage("Loading");break}}}}function selectImage(g,i,h,k){var l=window.top.document;var j=l.getElementById("f_url");j.value=g;var j=l.getElementById("f_width");j.value=h;var j=l.getElementById("f_width");j.value=h;var j=l.getElementById("f_height");j.value=k;var j=l.getElementById("f_alt");j.value=i;var j=l.getElementById("orginal_width");j.value=h;var j=l.getElementById("orginal_height");j.value=k;l.getElementById("f_preview").src=window.parent._backend_url+"__function=thumbs&img="+encodeURIComponent(g);update_selected()}var _current_selected=null;function update_selected(){var j=window.top.document;if(_current_selected){_current_selected.className=_current_selected.className.replace(/(^| )active( |$)/,"$1$2");_current_selected=null}var k=j.getElementById("f_url").value;var h=j.getElementById("dirPath");var i=h.options[h.selectedIndex].text;var l=new RegExp("^("+i.replace(/([\/\^$*+?.()|{}[\]])/g,"\\$1")+")([^/]*)$");if(l.test(k)){var g=document.getElementById("holder_"+asc2hex(RegExp.$2));if(g){_current_selected=g;g.className+=" active"}}}function asc2hex(g){var h="";for(var f=0;f<g.length;f++){var e=(g.charCodeAt(f)).toString(16);if(e.length==1){e="0"+e}h+=e}return h}function showMessage(e){var g=window.top.document;var h=g.getElementById("message");var f=g.getElementById("messages");if(h&&f){if(h.firstChild){h.removeChild(h.firstChild)}h.appendChild(g.createTextNode(i18n(e)));f.style.display="block"}}function addEvent(g,f,e){if(g.addEventListener){g.addEventListener(f,e,true);return true}else{if(g.attachEvent){var h=g.attachEvent("on"+f,e);return h}else{return false}}}function confirmDeleteFile(b){if(confirm(i18n("Delete file?"))){return true}return false}function confirmDeleteDir(d,c){if(c>0){alert(i18n("Please delete all files/folders inside the folder you wish to delete first."));return}if(confirm(i18n("Delete folder?"))){return true}return false}addEvent(window,"load",init);Xinha=window.parent.Xinha;