/* This compressed file is part of Xinha. For uncompressed sources, forum, and bug reports, go to xinha.org */
function FullScreen(f,e){this.editor=f;this.originalSizes=null;f._superclean_on=false;var d=f.config;d.registerIcon("fullscreen",[_editor_url+d.imgURL+"ed_buttons_main.png",8,0]);d.registerIcon("fullscreenrestore",[_editor_url+d.imgURL+"ed_buttons_main.png",9,0]);d.registerButton("fullscreen",this._lc("Maximize/Minimize Editor"),d.iconList.fullscreen,true,function(b,c,a){b._fullScreen()});d.addToolbarElement("fullscreen","popupeditor",0)}FullScreen._pluginInfo={name:"FullScreen",version:"1.0",developer:"James Sleeman",developer_url:"http://www.gogo.co.nz/",c_owner:"Gogo Internet Services",license:"htmlArea",sponsor:"Gogo Internet Services",sponsor_url:"http://www.gogo.co.nz/"};FullScreen.prototype._lc=function(b){return Xinha._lc(b,{url:_editor_url+"modules/FullScreen/lang/",context:"FullScreen"})};Xinha.prototype._fullScreen=function(){var u=this;var e=u.config;function s(){if(!u._isFullScreen||u._sizing){return false}u._sizing=true;var c=Xinha.viewportSize();if(u.config.fullScreenSizeDownMethod=="restore"){u.originalSizes={x:parseInt(u._htmlArea.style.width),y:parseInt(u._htmlArea.style.height),dim:c}}var a=c.y-u.config.fullScreenMargins[0]-u.config.fullScreenMargins[2];var b=c.x-u.config.fullScreenMargins[1]-u.config.fullScreenMargins[3];u.sizeEditor(b+"px",a+"px",true,true);u._sizing=false;if(u._toolbarObjects.fullscreen){u._toolbarObjects.fullscreen.swapImage(e.iconList.fullscreenrestore)}}function q(){if(u._isFullScreen||u._sizing){return false}u._sizing=true;if(u.originalSizes!=null){var c=u.originalSizes;var d=Xinha.viewportSize();var b=c.x+(d.x-c.dim.x);var a=c.y+(d.y-c.dim.y);u.sizeEditor(b+"px",a+"px",u.config.sizeIncludesBars,u.config.sizeIncludesPanels);u.originalSizes=null}else{u.initSize()}u._sizing=false;if(u._toolbarObjects.fullscreen){u._toolbarObjects.fullscreen.swapImage(e.iconList.fullscreen)}}function v(){if(u._isFullScreen){window.scroll(0,0);window.setTimeout(v,150)}}if(typeof this._isFullScreen=="undefined"){this._isFullScreen=false;if(u.target!=u._iframe){Xinha._addEvent(window,"resize",s)}}if(Xinha.is_gecko){this.deactivateEditor()}if(this._isFullScreen){this._htmlArea.style.position="";if(!Xinha.is_ie){this._htmlArea.style.border=""}try{if(Xinha.is_ie&&document.compatMode=="CSS1Compat"){var n=document.getElementsByTagName("html")}else{var n=document.getElementsByTagName("body")}n[0].style.overflow=""}catch(u){}this._isFullScreen=false;q();var o=this._htmlArea;while((o=o.parentNode)&&o.style){o.style.position=o._xinha_fullScreenOldPosition;o._xinha_fullScreenOldPosition=null}if(Xinha.ie_version<7){var t=document.getElementsByTagName("select");for(var i=0;i<t.length;++i){t[i].style.visibility="visible"}}window.scroll(this._unScroll.x,this._unScroll.y)}else{this._unScroll={x:(window.pageXOffset)?(window.pageXOffset):(document.documentElement)?document.documentElement.scrollLeft:document.body.scrollLeft,y:(window.pageYOffset)?(window.pageYOffset):(document.documentElement)?document.documentElement.scrollTop:document.body.scrollTop};var o=this._htmlArea;while((o=o.parentNode)&&o.style){o._xinha_fullScreenOldPosition=o.style.position;o.style.position="static"}if(Xinha.ie_version<7){var t=document.getElementsByTagName("select");var p,r;for(var i=0;i<t.length;++i){p=t[i];r=false;while(p=p.parentNode){if(p==this._htmlArea){r=true;break}}if(!r&&t[i].style.visibility!="hidden"){t[i].style.visibility="hidden"}}}window.scroll(0,0);this._htmlArea.style.position="absolute";this._htmlArea.style.zIndex=999;this._htmlArea.style.left=u.config.fullScreenMargins[3]+"px";this._htmlArea.style.top=u.config.fullScreenMargins[0]+"px";if(!Xinha.is_ie&&!Xinha.is_webkit){this._htmlArea.style.border="none"}this._isFullScreen=true;v();try{if(Xinha.is_ie&&document.compatMode=="CSS1Compat"){var n=document.getElementsByTagName("html")}else{var n=document.getElementsByTagName("body")}n[0].style.overflow="hidden"}catch(u){}s()}if(Xinha.is_gecko){this.activateEditor()}this.focusEditor()};